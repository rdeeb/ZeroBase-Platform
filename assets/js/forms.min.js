!function(a){a(document).ready(function(){function b(a){a=a.toString();var b=a.split(",");return new google.maps.LatLng(parseFloat(b[0]),parseFloat(b[1]))}a(".map-selector").each(function(c,d){var e={center:new google.maps.LatLng(maps_config.latitude,maps_config.longitude),zoom:13};""!==a(d).find(".gmap-latlong").val()&&(e.center=b(a(d).find(".gmap-latlong").val()));var f=a(d).find(".map-canvas"),g=new google.maps.Map(f[0],e),h=new google.maps.Marker({position:g.getCenter(),map:g,title:forms_trans.map.click_to_zoom});google.maps.event.addListener(g,"click",function(b){window.setTimeout(function(){h.setPosition(b.latLng),a(d).find(".gmap-latlong").val(b.latLng)},100)}),a(document).on("uk.tab.change",function(c,d){window.setTimeout(function(){a(".map-selector").css("width","99%"),google.maps.event.trigger(g,"resize")},10),window.setTimeout(function(){a(".map-selector").css("width","100%"),google.maps.event.trigger(g,"resize"),g.center(b(a(d).find(".gmap-latlong").val()))},50)})})})}(jQuery);var post_autocomplete_callback=function(a){var b=$(a).val(),c={action:"post_autocomplete",post_name:b};$.post(ajaxurl,c,function(a){return a})};!function(a){var b=function(b,d,e){if(e){var f=a(d).siblings(".gallery-preview");f.append('<li class="image" data-attachment_id="'+b.id+'"><img src="'+b.url+'" /> <a href="#" class="delete">Delete</a></li>')}else c()},c=function(b,c){a(c).parent().find(".preview").remove(),a(c).hasClass("image_selector")?a(c).parent().append(a('<img src="'+b.url+'" width="60" class="img preview" />')):a(c).parent().append(a('<div class="doc preview" />')),0===a(c).parent().find(".delete").length&&a(c).parent().append(a(' <button class="button delete submitdelete">Remove File</button>'))},d=function(c,d,f){var g=c.state().get("selection");if(f){var h=a(d).siblings(".gallery-preview");h.html("")}g.map(function(c){c=c.toJSON(),c.id&&b(c,d,f),a(d).siblings('input[type="hidden"]').val(e(d))})},e=function(b){var c="";return a(b).siblings(".gallery-preview").find(".image").each(function(){var b=a(this).attr("data-attachment_id");c=c+b+","}),c},f=function(b,c){var d={title:forms_trans.file_title,button:{text:forms_trans.file_submit},multiple:c};return a(b).hasClass("image_selector")&&(d.title=forms_trans.image_title,d.button={text:forms_trans.image_submit},d.library={type:"image"}),c&&(d.title=forms_trans.gallery_title,d.button={text:forms_trans.gallery_submit},d.library={type:"image"}),d},g=function(b,c){var e;return void 0===c&&(c=!1),e=wp.media.frames.file_frame=wp.media(f(b,c)),e.on("select",function(){d(e,b,c)}),e.on("open",function(){var c=e.state().get("selection"),d=a(b).siblings('input[type="hidden"]').val().split(",");d.forEach(function(a){var b=wp.media.attachment(a);b.fetch(),c.add(b?[b]:[])})}),e};a(document).ready(function(){a(".uploader, .image_selector").each(function(b,c){a(c).parent(".form-field, .form_row").delegate(".delete","click",function(b){b.preventDefault(),a(c).siblings('input[type="hidden"]').val(""),a(c).siblings(".preview").remove(),a(this).remove()}),a(c).click(function(a){var b=null;a.preventDefault(),null===b&&(b=g(c)),b.open()})}),a(".gallery").each(function(b,c){var d=a(c).siblings(".gallery-preview");d.css("cursor","default"),a(c).closest(".form-field, .form_row").delegate(".delete","click",function(b){return b.preventDefault(),a(this).closest("li.image").remove(),a(c).siblings('input[type="hidden"]').val(e(c)),!1}),a(c).click(function(a){var b=null;a.preventDefault(),null===b&&(b=g(c,!0)),b.open()}),a(c).siblings(".gallery-preview").sortable({items:"li.image",cursor:"move",scrollSensitivity:40,forcePlaceholderSize:!0,forceHelperSize:!1,helper:"clone",opacity:.65,placeholder:"metabox-sortable-placeholder",start:function(a,b){b.item.css("background-color","#f6f6f6")},stop:function(a,b){b.item.removeAttr("style")},update:function(){a(c).siblings('input[type="hidden"]').val(e(c))}})})})}(jQuery),function(a){a(document).ready(function(){a(".datepicker").datepicker(),a(".colorselector").each(function(b,c){a(c).css("background",a(c).val()),a(c).ColorPicker({color:a(c).val(),livePreview:!0,onSubmit:function(b,c,d,e){a(e).val("#"+c),a(e).ColorPickerHide()},onChange:function(b,d){b.b<40?a(c).css("color","#fff"):a(c).css("color","#000"),a(c).css("background","#"+d),a(c).val("#"+d.toUpperCase())}})})})}(jQuery);